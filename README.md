### üì¶ `python-fast-api-tests`

–≠—Ç–æ —É—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–π –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤ –¥–ª—è REST API —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `pytest`, –∞ —Ç–∞–∫–∂–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–≥–æ API –Ω–∞ `FastAPI`.

---

### üîß –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- Python 3.10+
- [FastAPI](https://fastapi.tiangolo.com/)
- [Pytest](https://docs.pytest.org/)
- [Requests](https://requests.readthedocs.io/)
- [FastAPI Pagination](https://github.com/uriyyo/fastapi-pagination)
- Uvicorn (ASGI-—Å–µ—Ä–≤–µ—Ä)

---

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ AppStatus.py         # –ú–æ–¥–µ–ª—å –¥–ª—è healthcheck
‚îÇ   ‚îú‚îÄ‚îÄ test_user.py         # –ú–æ–¥–µ–ª—å User
‚îÇ   ‚îî‚îÄ‚îÄ test_users.json      # –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ conftest.py          # –§–∏–∫—Å—Ç—É—Ä—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ test_requests.py     # –û—Å–Ω–æ–≤–Ω—ã–µ –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã API
‚îÇ   ‚îî‚îÄ‚îÄ test_smoke.py        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
‚îú‚îÄ‚îÄ main.py                  # FastAPI-—Å–µ—Ä–≤–∏—Å (–∏–º–∏—Ç–∞—Ü–∏—è reqres.in)
‚îî‚îÄ‚îÄ README.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

---

### üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

#### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/Andreyshabalinn/python-fast-api-tests.git
cd python-fast-api-tests
```

#### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r requirements.txt
```

–ï—Å–ª–∏ —Ñ–∞–π–ª–∞ `requirements.txt` –ø–æ–∫–∞ –Ω–µ—Ç, —É—Å—Ç–∞–Ω–æ–≤–∏ –≤—Ä—É—á–Ω—É—é:

```bash
pip install fastapi uvicorn requests pytest python-dotenv fastapi-pagination
```

#### 3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å `.env`

–í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env`:

```
BASE_URL=http://localhost:8000/api/
```

#### 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å FastAPI-—Å–µ—Ä–≤–µ—Ä

```bash
uvicorn main:app --reload
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: [http://localhost:8000/api](http://localhost:8000/api)

#### 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã

```bash
pytest
```

---

### ‚úÖ –ß—Ç–æ –ø–æ–∫—Ä—ã—Ç–æ –≤ —Ç–µ—Å—Ç–∞—Ö

- `/users`
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º fastapi-pagination
- `/users/{id}`
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–∫–∏ 404 –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π ID
- `/users` (POST)
  - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–¥–µ–ª–∏ `User`
- `/healthcheck`
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ `AppStatus`

---

### üìå –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:
- –∫–∞–∫ –ø–∏—Å–∞—Ç—å end-to-end —Ç–µ—Å—Ç—ã –¥–ª—è REST API,
- –∫–∞–∫ –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ API –ª–æ–∫–∞–ª—å–Ω–æ,
- –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Pydantic` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤,
- –∫–∞–∫ –ø–æ–¥–∫–ª—é—á–∞—Ç—å `fastapi-pagination` –¥–ª—è –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞,
- –∫–∞–∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ–∏–∫—Å—Ç—É—Ä –∏ `.env`.

---

–ì–æ—Ç–æ–≤ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é: –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –º–æ–∫-—Å–µ—Ä–≤–∏—Å—ã, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∏ –ø—Ä–æ—á–µ–µ.
